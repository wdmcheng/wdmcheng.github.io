<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Curator-ç®¡ç†ä½ çš„Elasticsearchç´¢å¼•]]></title>
    <url>%2FCurator-%E7%AE%A1%E7%90%86%E4%BD%A0%E7%9A%84Elasticsearch%E7%B4%A2%E5%BC%95%2F</url>
    <content type="text"><![CDATA[å‡†å¤‡å·¥ä½œæˆ‘è¿™é‡Œä»¥ CentOS 7 ä¸ºä¾‹æ¥è¿›è¡Œè¯´æ˜Žã€‚ å®‰è£…å®˜æ–¹æŽ¨èæœ€ç®€å•çš„å®‰è£…æ–¹å¼å°±æ˜¯ä½¿ç”¨ pipï¼Œæ²¡é”™ï¼Œè¿™è´§æ˜¯ python å†™çš„ã€‚ æœ€ç®€åŒ–å®‰è£…çš„ CentOSï¼Œè™½ç„¶è‡ªå¸¦äº† pythonï¼Œä½†æ˜¯æ²¡æœ‰ç›¸å…³å¤´æ–‡ä»¶ï¼Œæ— æ³•å®‰è£… pipï¼Œå¹²è„†ç¼–è¯‘å®‰è£… python3ã€‚æ—¢ç„¶è¦ç¼–è¯‘ï¼Œå…ˆè£…ä¸ªå¼€å‘å·¥å…·åŒ…å†è¯´ 1yum -y groupinstall 'Development Tools' ç¼–è¯‘ python3ï¼Œä¸€å®šè¦æ³¨æ„ OpenSSL æ”¯æŒæ˜¯ä¸æ˜¯å¯ç”¨äº†ï¼Œå¦åˆ™åŽé¢æ²¡åŠžæ³•ä¸‹è½½å„ç§åŒ…äº†ï¼Œè¿˜éœ€è¦è¿™äº›ä¾èµ–ï¼Œä¸å®‰è£…ä¼šæŠ¥é”™çš„ï¼ˆéƒ½æ˜¯è¯•é”™è¿‡åŽçš„æ€»ç»“ï¼Œéƒ½æ˜¯çœ¼æ³ªðŸ˜¢ï¼‰ 1yum -y install openssl openssl-devel zlib zlib-devel libffi-devel ä¸‹è½½ python3 çš„æºç åŒ…ï¼Œç„¶åŽè§£åŽ‹ç¼–è¯‘å¹¶æ‰§è¡Œ configure 123456# ä¸‹è½½è§£åŽ‹wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tar.xztar -Jxf Python-3.7.3.tar.xzcd Python-3.7.3/# æ‰§è¡Œé…ç½®./configure æ‰§è¡Œå®Œ configure åŽï¼Œæ³¨æ„çœ‹ OpenSSL æ”¯æŒæ˜¯ä¸æ˜¯å¯ç”¨äº†ã€‚å¦‚å›¾æ˜¯æˆåŠŸå¯ç”¨çš„ã€‚ åŽé¢ç¼–è¯‘å®‰è£… 12makemake install è¿™ä¸ªæ—¶å€™æ²¡æœ‰ pip å‘½ä»¤ï¼Œåªæœ‰ pip3ã€‚ä¸ç”¨åˆ«åå¤„ç†äº†ï¼Œé¡ºæ‰‹æ›´æ–°ä¸€ä¸‹ pip ç‰ˆæœ¬ï¼Œä¹Ÿä¼šè‡ªåŠ¨å®‰è£… pip è¿™ä¸ªå‘½ä»¤ 1pip3 install --upgrade pip è¿›å…¥æ­£é¢˜ï¼Œå®‰è£… curator 1pip3 install elasticsearch-curator é…ç½® æ‰§è¡Œ curator å‘½ä»¤æ—¶ï¼Œé»˜è®¤è¯»å–çš„é…ç½®æ–‡ä»¶åœ¨ ~/.curator/curator.ymlã€‚åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ 123456789101112131415161718192021222324252627---# Remember, leave a key empty if there is no value. None will be a string,# not a Python "NoneType"client: # ES èŠ‚ç‚¹åˆ—è¡¨ hosts: - 10.0.79.14 - 10.0.79.22 - 10.0.79.23 - 10.0.79.24 port: 9200 url_prefix: use_ssl: False certificate: client_cert: client_key: ssl_no_validate: False http_auth: username:password timeout: 30 master_only: Falselogging: loglevel: INFO # logfile æ–‡ä»¶è·¯å¾„ï¼Œä¸€å®šè¦ä¿è¯æ–‡ä»¶çš„çˆ¶çº§æ–‡ä»¶å¤¹å­˜åœ¨ logfile: /data/es-curator-log/es-curator.log logformat: default blacklist: ['elasticsearch', 'urllib3'] ä¸Šé¢çš„ http_auth éƒ¨åˆ†ï¼Œæ˜¯ç”¨æˆ·åå’Œå¯†ç ï¼Œç”¨ : åˆ†éš”ã€‚æ›´å¤šé…ç½®æ–‡ä»¶å†™æ³•ï¼Œå‚è€ƒ å®˜æ–¹æ–‡æ¡£ åˆ›å»ºä»»åŠ¡æ–‡ä»¶ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªå‚è€ƒï¼Œå†…å®¹å¦‚ä¸‹ã€‚è¯¦ç»†ä¿¡æ¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677---# Remember, leave a key empty if there is no value. None will be a string,# not a Python "NoneType"## Also remember that all examples have 'disable_action' set to True. If you# want to use this action as a template, be sure to set this to False after# copying it.actions: 1: action: delete_indices description: &gt;- Delete indices older than 31 days (based on index name), for -pro- indices. åˆ é™¤31å¤©ä¹‹å‰çš„ -pro- ç´¢å¼• options: ignore_empty_list: True timeout_override: 300 continue_if_exception: True disable_action: False filters: - filtertype: pattern kind: regex value: '.*-pro-.*' exclude: - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: 31 exclude: 2: action: delete_indices description: &gt;- Delete indices older than 7 days (based on index name), except -pro- indices. åˆ é™¤7å¤©ä¹‹å‰çš„éž -pro- ç´¢å¼• options: ignore_empty_list: True timeout_override: 300 continue_if_exception: True disable_action: False filters: - filtertype: pattern kind: regex value: '.*-pro-.*' exclude: True - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: 7 exclude: 3: action: delete_indices description: &gt;- Delete indices older than 3 days (based on index name), for system indices. åˆ é™¤3å¤©ä¹‹å‰çš„ç³»ç»Ÿç´¢å¼• options: ignore_empty_list: True timeout_override: 300 continue_if_exception: True disable_action: False filters: - filtertype: pattern kind: regex value: '^\..*-.*' exclude: - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: 3 exclude: çŽ°åœ¨å¯ä»¥ä½¿ç”¨ --dry-run å‚æ•°è¯•è¿è¡Œæµ‹è¯•ä¸€ä¸‹ï¼ˆè¿™ä¸ªå‚æ•°çš„ä½œç”¨å°±æ˜¯ä¸ä¼šçœŸæ­£çš„åŽ»æ‰§è¡Œï¼Œåªæ˜¯æ¨¡æ‹Ÿï¼‰ã€‚--config ~/.curator/curator.yml å¯çœç•¥ 1curator --config ~/.curator/curator.yml --dry-run ~/delete_indecies.yml é…ç½®å®šæ—¶ä»»åŠ¡å…ˆè¯´ä¸€ä¸‹ç”¨æ³•ï¼ŒåŽé¢å†åˆ—å‡ ç¯‡æ–‡ç« ä¾›å‚è€ƒ æ‰§è¡Œ crontab -eï¼Œä¼šè‡ªåŠ¨æ‰“å¼€ vim ç¼–è¾‘å™¨ æˆ‘è¿™é‡Œæ˜¯æ¯éš”6ä¸ªå°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤æ·»åŠ ä¸€è¡Œ 0 0,6,12,18 * * * /usr/local/bin/curator ~/delete_indecies.yml ä¿å­˜åŽå¤§åŠŸå‘Šæˆ å‚è€ƒèµ„æ–™ Curator æ–‡æ¡£ crontab å‚æ•°è§£é‡Š Linux å®šæ—¶ä»»åŠ¡]]></content>
      <tags>
        <tag>elastic</tag>
        <tag>elasticsearch</tag>
        <tag>es</tag>
        <tag>curator</tag>
        <tag>python</tag>
        <tag>python3</tag>
        <tag>pip</tag>
        <tag>crontab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macOSæ–‡ä»¶ç³»ç»ŸåŒºåˆ†å¤§å°å†™çš„çŽ¯å¢ƒé…ç½®]]></title>
    <url>%2FmacOS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[èµ·å› macOS çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†åœ¨å¼€å‘ç¼–ç çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šä¸‹è½½åˆ°éœ€è¦åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶â€”â€”Git è¿˜å¯ä»¥é€šè¿‡é…ç½®æŽ§åˆ¶ä¸€ä¸‹ï¼ŒSVN ä¸­å‡ºçŽ°è¿™ç§é—®é¢˜çš„æ¦‚çŽ‡å°±ä¸å°äº†â€”â€”å› æ­¤æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªè§£å†³åŠžæ³•ã€‚ å¦‚æžœå°†æ–‡ä»¶ç³»ç»Ÿç›´æŽ¥æ”¹æˆåŒºåˆ†å¤§å°å†™çš„ï¼Œåˆä¼šæœ‰ä¸€äº›è½¯ä»¶æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼ˆè­¬å¦‚ Adobe å®¶çš„ï¼‰ï¼Œæ‰€ä»¥ä¸æƒ³è‡ªæ‰¾éº»çƒ¦ã€‚ å¦‚æžœå¯¹ç£ç›˜è¿›è¡Œåˆ†åŒºï¼Œåˆ†å‡ºä¸€å—ç©ºé—´ä¸“é—¨ç”¨æ¥å¼€å‘ï¼Œæ ¼å¼åŒ–ä¸ºåŒºåˆ†å¤§å°å†™çš„ã€‚è¿™å°±ä¼šé€ æˆä¸€å®šç¨‹åº¦çš„ç£ç›˜ç©ºé—´æµªè´¹ï¼ˆä¸ç»§ç»­ Windows çš„ä½¿ç”¨ä¹ æƒ¯äº†ï¼Œå°±æ˜¯ä¸æƒ³åˆ†åŒºï¼‰ï¼Œæ€»æ˜¯ä¼šå¾ˆå¿ƒç–¼çš„ï¼Œæ¯•ç«Ÿ mac çš„ç£ç›˜ç©ºé—´å¾ˆè´µã€‚ æ–¹æ¡ˆåŽæ¥äº†è§£åˆ° mac çš„ç¨€ç–ç£ç›˜æ˜ åƒ(sparseimage)æ¯”è¾ƒä¸é”™ å¯¹æ˜ åƒæ–‡ä»¶çš„æ“ä½œä¸Ž dmg æ ¼å¼ç›¸åŒ ä½¿ç”¨å¤šå°‘ç©ºé—´ï¼Œå…¶çœŸå®žå ç”¨ç©ºé—´å°±æ˜¯é‚£ä¹ˆå¤§ï¼Œä¸ä¼šé€ æˆç©ºé—´æµªè´¹ã€‚å‡è®¾æ–°å»ºä¸€ä¸ªç¨€ç–ç£ç›˜æ˜ åƒï¼Œå¤§å°ä¸º50GBï¼Œé‡Œé¢å­˜äº†5GBçš„ä»£ç ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜ åƒæ–‡ä»¶å®žé™…å ç”¨5GBå­˜å‚¨ç©ºé—´ æ˜ åƒå£°æ˜Žçš„ç©ºé—´ä¸å¤Ÿäº†ï¼Œè¿˜å¯ä»¥éšæ—¶æ‰©å®¹ã€‚å½“ç„¶å‰ææ˜¯ä½ çš„ç‰©ç†ç£ç›˜è£…å¾—ä¸‹ æ€§èƒ½å‡ ä¹Žæ— æŸ éœ€è¦å¤‡ä»½ã€è¿ç§»ä»£ç åº“ï¼Ÿé›¶æ•£æ–‡ä»¶çš„è¯»å†™å“ªæœ‰å•ä¸ªæ–‡ä»¶å¿«å‘€ï¼Œç›´æŽ¥å¤åˆ¶ç£ç›˜æ˜ åƒï¼Œä½ çš„ä»£ç åº“å°±å¤‡ä»½äº† å—¯ï¼Œæœ€åŽå†³å®šå»ºä¸€ä¸ªç¨€ç–ç£ç›˜æ˜ åƒï¼Œæ ¼å¼åŒ–æˆåŒºåˆ†å¤§å°å†™çš„åˆ†åŒºæ ¼å¼ï¼Œæ¥ä¿å­˜æˆ‘çš„ä»£ç åº“ å®žæ–½å»ºç«‹ç£ç›˜æ˜ åƒ æ‰“å¼€ç£ç›˜å·¥å…·ï¼Œæ–°å»ºç©ºç™½æ˜ åƒï¼ˆå›¾1ï¼‰ å…¶ä¸­ å­˜å‚¨ä¸º å’Œ ä½ç½® éšæ„ï¼Œæˆ‘è¿™é‡Œæ˜¯ ~/DevCaseSensitive.sparsebundle ä¸‹é¢çš„ åç§° å®šä¹‰çš„æ˜¯åˆ†åŒºåç§°ï¼Œä¹Ÿå°±æ˜¯ç£ç›˜çš„æŒ‚è½½ç‚¹äº† å¤§å°æ ¹æ®è‡ªèº«æƒ…å†µæ¥å¡« æ ¼å¼æˆ‘é€‰çš„æ˜¯ APFSï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ åˆ†åŒºå°±å•ä¸ªåˆ†åŒºå°±è¡Œï¼Œé€‰æ‹© GUID åˆ†åŒºå›¾ æ˜ åƒæ ¼å¼é€‰æ‹© ç¨€ç–æ†ç»‘ç£ç›˜æ˜ åƒ ç„¶åŽå°±å¯ä»¥æŠŠä»£ç éƒ½å†™å…¥è¿™ä¸ªåˆ†åŒºäº†ï¼Œæˆ‘è¿™é‡Œçš„æŒ‚è½½ç‚¹æ˜¯ /Volumes/DevCaseSensitive å¦‚æžœä½ æœ‰å¾ˆå¤šé¡¹ç›®äº†ï¼Œåˆæ‡’å¾—ä¸€ä¸ªä¸€ä¸ªåŽ»å¤„ç†ï¼Œç”¨è½¯è¿žæŽ¥å§ï¼ˆå…ˆå­¦ä¼šç”¨ï¼Œæ³¨æ„æ•°æ®å®‰å…¨ï¼‰ å¦‚æžœæ˜ åƒç©ºé—´ä¸å¤Ÿäº†ï¼Œå¯ä»¥æ‰©å®¹çš„ å…³é—­æ‰€æœ‰ä½¿ç”¨è¯¥åˆ†åŒºçš„ç¨‹åº å¸è½½è¯¥ç£ç›˜æ˜ åƒ ä½¿ç”¨ hdiutil resize -size 50g ~/DevCaseSensitive.sparseimage æ¥ä¿®æ”¹å¤§å° hdiutil attach ~/DevCaseSensitive.sparseimage é‡æ–°æŒ‚è½½ç£ç›˜æ˜ åƒ ä½¿ç”¨å‘½ä»¤è¡Œæˆ–è€…ç£ç›˜å·¥å…·è°ƒæ•´åˆ†åŒºå¤§å° å¼€æœºè‡ªåŠ¨æŒ‚è½½æˆ‘åœ¨ç£ç›˜æ˜ åƒé‡Œè¿˜æ”¾äº† IDE å·¥å…·ï¼ˆJetBrains çš„ IntelliJ IDEAï¼‰ï¼Œè€Œ JetBrains Toolbox ä¼šå¼€æœºè‡ªå¯ã€‚åˆç”±äºŽ macOS ç™»å½•åŽçš„å„ç¨‹åºå¯åŠ¨éƒ½æ˜¯å¹¶è¡Œçš„ï¼Œæ²¡æœ‰å…ˆåŽé¡ºåºï¼Œå› æ­¤ä¸èƒ½ç›´æŽ¥å°†ç£ç›˜æ˜ åƒæ·»åŠ åˆ°ç™»å½•é¡¹LaunchDaemons æ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨åŽå°±ä¼šæ‰§è¡Œï¼Œä¼˜å…ˆäºŽç™»å½•é¡¹ï¼Œå› æ­¤è¿™é‡Œé‡‡ç”¨è¿™ç§æœºåˆ¶ å‚è€ƒæ–‡ç«  äº†è§£LaunchDaemons åˆ©ç”¨ Launchd å®šåˆ¶ Mac å¯åŠ¨ä»»åŠ¡ Mac OSå¯åŠ¨æœåŠ¡ä¼˜åŒ–é«˜çº§ç¯‡ï¼ˆlaunchd tuningï¼‰ Mac OSXçš„å¼€æœºå¯åŠ¨é…ç½® Daemons and Agents LaunchAgents çš„ç›®å½•éƒ½æ˜¯ç™»å½•é¡¹ï¼Œä¸èƒ½ç”¨ï¼Œ/System/Library/LaunchDaemons æ˜¯ç³»ç»Ÿçº§çš„ï¼Œä¸€èˆ¬ä¸åŠ¨ï¼Œå› æ­¤ç›®å½•é€‰æ‹© /Library/LaunchDaemonsåœ¨ /Library/LaunchDaemons ä¸‹æ–°å»ºæ–‡ä»¶ cn.wdmcheng.sparseimage-loader.plistï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆxxxxx æ˜¯ç”¨æˆ·åï¼‰ 1234567891011121314151617181920&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;&lt;plist version="1.0"&gt; &lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;cn.wdmcheng.sparseimage-loader&lt;/string&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;hdiutil&lt;/string&gt; &lt;string&gt;attach&lt;/string&gt; &lt;string&gt;/Users/xxxxx/DevCaseSensitive.sparseimage&lt;/string&gt; &lt;/array&gt; &lt;key&gt;RunAtLoad&lt;/key&gt; &lt;true/&gt; &lt;key&gt;StandardErrorPath&lt;/key&gt; &lt;string&gt;/dev/null&lt;/string&gt; &lt;key&gt;StandardOutPath&lt;/key&gt; &lt;string&gt;/dev/null&lt;/string&gt; &lt;/dict&gt;&lt;/plist&gt; æ‰§è¡Œå‘½ä»¤ launchctl load /Library/LaunchDaemons/cn.wdmcheng.sparseimage-loader.plist åŠ è½½é…ç½®ï¼Œé‡å¯å³å¯ç”Ÿæ•ˆ IDE é…ç½®JetBrains å®¶çš„ IDE éœ€è¦é…ç½®ä¸€ä¸ªå±žæ€§ï¼Œæ¥æŒ‡å®šä½¿ç”¨åŒºåˆ†å¤§å°å†™çš„æ¨¡å¼åœ¨ IDE çš„ JVM å‚æ•°ä¸Šï¼Œå¢žåŠ  -Didea.case.sensitive.fs=true å³å¯æŽ¥ä¸‹æ¥å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨å•¦]]></content>
      <tags>
        <tag>macOS</tag>
        <tag>mac</tag>
        <tag>LaunchDaemons</tag>
        <tag>CaseSensitive</tag>
        <tag>sparseimage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macOSè°ƒæ•´Launchpadå›¾æ ‡å¤§å°]]></title>
    <url>%2FmacOS%E8%B0%83%E6%95%B4Launchpad%E5%9B%BE%E6%A0%87%E5%A4%A7%E5%B0%8F%2F</url>
    <content type="text"><![CDATA[è°ƒæ•´æ–¹å¼é¦–å…ˆè¦æ‰“å¼€Shell è°ƒæ•´å¯ä»¥æ˜¾ç¤ºå¤šå°‘è¡Œ12# æœ€åŽæ•°å­—7å³ä¸ºæœ€å¤šæ˜¾ç¤º7è¡Œdefaults write com.apple.dock springboard-rows -int 7 è°ƒæ•´å¯ä»¥æ˜¾ç¤ºå¤šå°‘åˆ—12# æœ€åŽæ•°å­—8å³ä¸ºæœ€å¤šæ˜¾ç¤º8åˆ—defaults write com.apple.dock springboard-columns -int 8 æœ€åŽé‡å¯Dockç”Ÿæ•ˆ12# é‡å¯Dockkillall Dock ä½¿Launchpadé‡æ–°æŽ’åˆ—å›¾æ ‡å¦‚æžœä½ å·²ç»è£…äº†å¾ˆå¤šè½¯ä»¶ï¼Œä¿®æ”¹ä¹‹åŽè¿˜è¦æ‰‹åŠ¨è°ƒæ•´å›¾æ ‡ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„åŠžæ³•å·æ‡’1234# é‡ç½®LaunchPadçš„å›¾æ ‡æŽ’åˆ—defaults write com.apple.dock ResetLaunchPad -bool TRUE# é‡å¯Dockkillall Dock æ¢å¤é»˜è®¤å›¾æ ‡å¤§å°12defaults delete com.apple.dock springboard-rowsdefaults delete com.apple.dock springboard-columns]]></content>
      <tags>
        <tag>macOS</tag>
        <tag>mac</tag>
        <tag>LaunchPad</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°å½•ä¸€ä¸‹æœ¬åšå®¢æ­å»ºè¿‡ç¨‹]]></title>
    <url>%2F%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E6%9C%AC%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æ¬¢è¿Žåœ¨æ–‡æœ«ç•™è¨€ï¼Œå…±åŒè¿›æ­¥ã€‚ æœ¬æ–‡é‡‡ç”¨ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…(CC BY-NC-SA 4.0) è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ï¼ åšå®¢æ­å»ºå‡†å¤‡çŽ¯å¢ƒ å…³äºŽåŸºç¡€ç»„ä»¶çš„å®‰è£…ï¼Œè¿™é‡Œä¸åšè¯¦ç»†ä»‹ç»äº†ï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘ Git Node.js Hexo åœ¨ Shell ä¸­ï¼ˆWindows ä¸‹å¯èƒ½éœ€è¦ä½¿ç”¨ Git Bashï¼‰æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š 12hexo init hexo-blogcd hexo-blog æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ yarn ä»£æ›¿ npmï¼Œå…³äºŽ yarn çš„å®‰è£…ï¼Œå‚è€ƒè¿™é‡Œæˆ‘ç”¨çš„ Hexo ç‰ˆæœ¬æ˜¯ 3.8.0ï¼Œä¸éœ€è¦æ‰§è¡Œ yarn install å‘½ä»¤äº†ï¼Œinit çš„æ—¶å€™å°±åšå®Œäº†ï¼Œå› æ­¤åªéœ€è¦ cd åˆ°ç›®å½•ä¸‹å³å¯ ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼š é…ç½® åŽŸå€¼ï¼ˆé»˜è®¤å€¼ï¼‰ ä¿®æ”¹å€¼ title Hexo Wdmcheng subtitle Java Coder description æ‰‹æ¡æ—¥æœˆæ‘˜æ˜Ÿæ™¨ï¼Œä¸–é—´æ— æˆ‘è¿™èˆ¬äººâ€¦â€¦å—¯â€¦â€¦å¹å¤§äº† author John Doe é›¾éƒ½è¿·åŸŽ language zh-CN timezone Asia/Shanghai url http://yoursite.com https://www.wdmcheng.cn permalink :year/:month/:day/:title/ :title new_post_name :title.md :year/:month/:day/:title.md post_asset_folder false true index_generator &gt; per_page 10 20 per_page 10 20 å¯åŠ¨æœåŠ¡å™¨å°±å¯ä»¥é¢„è§ˆçœ‹åˆ°æ•ˆæžœï¼šhexo server é»˜è®¤åœ°å€ï¼šhttp://localhost:4000 èƒ½æ­£å¸¸è®¿é—®ï¼Œå°±è¯´æ˜ŽçŽ¯å¢ƒåŸºæœ¬æ­å»ºæˆåŠŸäº†ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥äº†ï¼Œå…ˆæ ¹æ®æç¤ºæŒ‰ Ctrl+C ç»ˆæ­¢æœåŠ¡è¿è¡Œ å®žæ–½æ–¹æ¡ˆè¿™é‡Œé‡‡ç”¨çš„æ˜¯é‡è§è¥¿é—¨æ•™ç¨‹æ•™ç¨‹çš„å®žæ–½æ–¹æ¡ˆä¸‰ï¼Œé‡‡ç”¨ GithubPages + CodingPages çš„æ–¹å¼ï¼Œä¸è¿‡æœ‰äº›å˜åŒ–ã€‚æˆ‘æ˜¯éƒ¨ç½²åˆ° GitLabPages ä¸Šï¼Œç„¶åŽä½¿ç”¨ GitLab çš„é•œåƒä»“åº“åŠŸèƒ½æŽ¨é€åˆ° GitHub ä¸Ž Codingè‡³äºŽ Pages æœåŠ¡çš„é…ç½®åŠè¿™äº›é•œåƒé…ç½®å°±ä¸å¤šä»‹ç»äº† ä¸»é¢˜å…³äºŽä¸»é¢˜ä¼˜åŒ–ï¼Œè¯¦ç»†çš„æ•™ç¨‹è¿˜æ˜¯è¦å‚è€ƒé‡è§è¥¿é—¨çš„åšå®¢ åº”ç”¨ä¸»é¢˜ å®˜ç½‘çš„ä¸»é¢˜é¡µé¢å¾ˆå‘ï¼Œæœ‰æ—¶å€™å„ç§404ï¼Œçœ‹ä¸è§é¢„è§ˆï¼Œæˆ‘ç›´æŽ¥ Github æœç´¢ã€‚Star æ•°æœ€é«˜çš„æ˜¯ NexT ä¸»é¢˜ï¼Œä½†æ˜¯æ—§ç‰ˆçš„ï¼Œæˆ‘è¿™é‡Œç›´æŽ¥ä½¿ç”¨æ–°ç‰ˆ æ ¹æ®ä¸»é¢˜è¯´æ˜Žï¼Œä¸‹è½½å®‰è£…ä¸»é¢˜ï¼Œæˆ‘ç›´æŽ¥å®‰è£…çš„æœ€æ–°ç‰ˆæœ¬ 1git clone https://github.com/theme-next/hexo-theme-next themes/next ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml çš„ theme å­—æ®µï¼Œä¸ºä¸»é¢˜æ–‡ä»¶å¤¹åç§°ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯ nextï¼Œè¿™æ—¶å€™æƒ³çœ‹åˆ°æ•ˆæžœéœ€è¦é‡å¯æœåŠ¡äº† ä¸éœ€è¦é»˜è®¤çš„ landscape ä¸»é¢˜äº†ï¼Œç›´æŽ¥åˆ é™¤ï¼Œæ‰§è¡Œå‘½ä»¤ rm -rf themes/landscape ä¸»é¢˜ä¿®æ”¹ä¸Žä¼˜åŒ–å› ä¸ºä¸»é¢˜æ˜¯å…‹éš†çš„ä»“åº“ï¼ŒåŽç»­å‡çº§ç‰ˆæœ¬å…¶å®žå¾ˆæ–¹ä¾¿ï¼Œä¸ºäº†é¿å…å‡çº§æ—¶å€™ä¸»é¢˜é…ç½®çš„å¤„ç†å¤ªéº»çƒ¦ï¼Œå› æ­¤é‡‡ç”¨æ•°æ®æ–‡ä»¶çš„å½¢å¼é…ç½®ï¼š æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œåˆ›å»º source/_data/ ç›®å½•ï¼Œå¹¶å°†é»˜è®¤ä¸»é¢˜é…ç½®æ–‡ä»¶ themes/next/_config.yml å¤åˆ¶åˆ° source/_data/ ä¸‹ï¼Œå‘½åä¸º next.yml 12mkdir -p source/_datacp -p themes/next/_config.yml source/_data/next.yml ä¿®æ”¹æ–°çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œå°† override ä¿®æ”¹ä¸º true RSS æ”¯æŒå®‰è£… hexo-generator-feed æ’ä»¶ï¼Œç”± Hexo è‡ªåŠ¨ç”Ÿæˆè®¢é˜…æºå¹¶æ’å…¥é“¾æŽ¥ï¼Œä¸éœ€è¦å…¶ä»–é…ç½®1yarn add -D hexo-generator-feed ä¿®æ”¹ä¸»é¢˜æ ·å¼ ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œå°† scheme ä¿®æ”¹ä¸º Geminiï¼Œä½¿ç”¨åŒå­åº§ä¸»é¢˜æ ·å¼ é…ç½®èœå•æ˜¾ç¤ºæ–‡ç« æ•°ï¼Œä¿®æ”¹ menu_settings.badges ä¸º true é…ç½®æ–‡ç« ç›®å½•è‡ªåŠ¨æ¢è¡Œï¼Œä¿®æ”¹ toc.wrap ä¸º true é…ç½®ä¾§è¾¹æ æ˜¾ç¤º Back to Top æŒ‰é’®ï¼Œå¹¶æ˜¾ç¤ºé˜…è¯»ç™¾åˆ†æ¯”ï¼Œä¿®æ”¹ back2top ä¸‹ sidebar: true scrollpercent: true é…ç½® footerï¼Œä¿®æ”¹ footer ä¸‹ icon.name: heart icon.animated: true ä¸»é¡µæ–‡ç« åªæ˜¾ç¤ºæ‘˜è¦auto_excerpt.enable: true è®°å½•æ–‡ç« é˜…è¯»ä½ç½®æ‰“å¼€ save_scroll: true è¿™ä¸ªå¼€å…³å°±å¯ä»¥åœ¨ Cookie ä¸­ä¿å­˜æ–‡ç« çš„é˜…è¯»ä½ç½®ï¼Œä¸‹æ¬¡è¿›å…¥è¿˜ä¼šæ»šåŠ¨åˆ°ç›¸åŒåœ°æ–¹ å­—æ•°ç»Ÿè®¡ä¸Žé˜…è¯»æ—¶é•¿ æ‰§è¡Œå‘½ä»¤ yarn add -D hexo-symbols-count-time ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œæ·»åŠ ä¸‹é¢ä»£ç  1234567# å­—æ•°ç»Ÿè®¡ä¸Žé˜…è¯»æ—¶é•¿symbols_count_time: symbols: true time: true total_symbols: true total_time: true exclude_codeblock: true å¦‚æžœéœ€è¦æ˜¾ç¤ºç«™ç‚¹æ€»å­—æ•°ä¸Žç«™ç‚¹é˜…è¯»æ—¶é•¿ çš„æ–‡å­—ï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œå°† symbols_count_time.item_text_total è®¾ç½®ä¸º true ä»£ç ç‰‡æ®µå¤åˆ¶æŒ‰é’®ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ codeblock.copy_button.enable è®¾ç½®ä¸º trueï¼Œcodeblock.copy_button.show_result è®¾ç½®ä¸º true ä¼˜åŒ–å­—åº“è®¿é—®é€Ÿåº¦å¦‚æžœéœ€è¦ä¼˜åŒ–å­—åº“è®¿é—®é€Ÿåº¦ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…å­—ä½“é•œåƒç«™ fonts.lug.ustc.edu.cn ä»£æ›¿é»˜è®¤çš„ fonts.googleapis.comï¼Œä¿®æ”¹ font ä¸‹ enable: true host: //fonts.lug.ustc.edu.cn global.family: Monda headings.family: Roboto Slab logo.family: Lobster Two logo.size: 24 codes.family: PT Mono é…ç½®èœå•é¡¹ menu ä¸‹ï¼Œæ‰“å¼€ä¸‹é¢å‡ é¡¹çš„æ³¨é‡Š about tags categories schedule æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œç”Ÿæˆ categories tags about schedule é¡µé¢ 1234hexo new page categorieshexo new page tagshexo new page abouthexo new page schedule ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„å¦‚ä¸‹ source/categories/index.md source/tags/index.md source/about/index.md source/schedule/index.md ç¼–è¾‘ source/categories/index.md ä¸Ž source/tags/index.md æ–‡ä»¶ï¼Œåœ¨ date ä¸‹é¢æ·»åŠ ä¸€è¡Œï¼Œåˆ†åˆ«ä¸º type: categories type: tagsï¼Œç„¶åŽå†å„æ·»åŠ ä¸€è¡Œ comments: false ç¦æ­¢è¯„è®ºã€‚ å¦å¤–ä¸¤ä¸ªæ–‡ä»¶è‡ªå·±éšæ„ä¿®æ”¹ ç¼–è¾‘ scaffolds/post.md æ¨¡æ¿æ–‡ä»¶ï¼Œåœ¨ title ä¸‹æ–°æ·»ä¸€è¡Œ description:ï¼Œåœ¨ tags ä¸‹æ–°æ·»ä¸€è¡Œ categories:ï¼Œè¿™æ ·ä»¥åŽåˆ›å»ºçš„æ–‡ç« éƒ½ä¼šè‡ªåŠ¨æ·»åŠ è¿™ä¸¤ä¸ªå±žæ€§ è¿˜å¯æ·»åŠ æ—¥ç¨‹è¡¨ï¼Œä½¿ç”¨ Google Calendarï¼Œéœ€è¦æ¢¯å­ã€‚è¯¦ç»†é…ç½®å‚è€ƒè¿™é‡Œï¼Œæ³¨æ„ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„ calendar.calendar_id ä¸ä¸€å®šè¦å¡«å†™ Google è´¦å·å¯¹åº”çš„ E-Mailï¼Œåªéœ€è¦å¡«å†™ä¸€ä¸ªæ—¥åŽ† IDï¼Œä¸€å®šè¦æ˜¯å…¬å¼€æ—¥åŽ†ï¼Œå¦åˆ™ä¼šæŠ¥ 404 æ·»åŠ åˆ›ä½œå…±ç”¨åè®®æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ by-nc-saï¼Œå› æ­¤é…ç½® creative_commons é¡¹ sidebar: true post: true language: deed.zh æ–‡ç« å¼€å§‹ç»Ÿä¸€æ·»åŠ å‰è¨€è¿™é‡Œæˆ‘å†™äº†ä¸ªå‰è¨€ï¼Œæ·»åŠ ä¸€ä¸‹æŽˆæƒåè®®è¯´æ˜Žï¼Œåœ¨æ¯ç¯‡åšæ–‡éƒ½é»˜è®¤æ·»åŠ ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å…³é—­ åˆ›å»ºæ–‡ä»¶ themes/next/layout/_custom/custom-post-preface.swigï¼Œå¹¶è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œæˆ–è€…è‡ªè¡Œä¿®æ”¹ 12345678&lt;h2 id="å‰è¨€"&gt;&lt;a href="#å‰è¨€" class="headerlink" title="å‰è¨€"&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;ol&gt; &lt;li&gt;æ¬¢è¿Žåœ¨æ–‡æœ«ç•™è¨€ï¼Œå…±åŒè¿›æ­¥ã€‚&lt;/li&gt; &lt;li&gt; æœ¬æ–‡é‡‡ç”¨&lt;span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo" title="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"&gt;ç½²å - éžå•†ä¸šæ€§ä½¿ç”¨ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…&lt;i class="fa fa-external-link"&gt;&lt;/i&gt;&lt;/span&gt; (&lt;span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8=" title="https://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;CC BY-NC-SA 4.0&lt;i class="fa fa-external-link"&gt;&lt;/i&gt;&lt;/span&gt;) è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ï¼ &lt;/li&gt;&lt;/ol&gt; ç¼–è¾‘ scaffolds/post.md æ¨¡æ¿æ–‡ä»¶ï¼Œåœ¨ categories ä¸‹æ–°æ·»ä¸€è¡Œ include_preface: trueï¼Œåšä¸ºæ˜¾ç¤ºå‰è¨€çš„å¼€å…³ï¼Œè¿™æ ·ä»¥åŽåˆ›å»ºçš„æ–‡ç« éƒ½ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œå¹¶ä¸”æ˜¯æ‰“å¼€çŠ¶æ€ï¼Œå…·ä½“æ–‡ç« çš„æ ‡è®°æ”¹ä¸º falseï¼Œåˆ™é‚£ç¯‡æ–‡ç« å°±ä¸ä¼šæ˜¾ç¤ºå‰è¨€ ç¼–è¾‘ themes/next/layout/_macro/post.swig æ–‡ä»¶ï¼Œåœ¨ä¸‹é¢æ‰€ç¤ºçš„åŒºåŸŸ 123&#123;#################&#125;&#123;### POST BODY ###&#125;&#123;#################&#125; æ‰¾åˆ°éž is_index çš„ ï¼Œåœ¨å…¶ä¸Šæ·»åŠ å¦‚ä¸‹ä»£ç  123&#123;% if post.include_preface %&#125; &#123;% include '../_custom/custom-post-preface.swig' %&#125;&#123;% endif %&#125; æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ ç»“æŸæ ‡è®° åˆ›å»ºæ–‡ä»¶ themes/next/layout/_custom/passage-end-tag.swigï¼Œå¹¶è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œæˆ–è€…è‡ªè¡Œä¿®æ”¹&lt;div style=&quot;text-align: center; color: #ccc; font-size: 14px;&quot;&gt;-------------æœ¬æ–‡ç»“æŸ&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------&lt;/div&gt; åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œè¿™é‡Œæ˜¯å…³é—­çš„ï¼Œéšæ—¶å¼€å¯ï¼Œåªéœ€è¦å°† passage_end_tag.enable ä»Ž false æ”¹ä¸º true 123# æ–‡ç« ç»“æŸæ ‡è®°ï¼ˆéœ€ä¿®æ”¹ä¸»é¢˜ï¼Œè‡ªå·±æ·»åŠ ä»£ç ï¼‰passage_end_tag: enable: false ç¼–è¾‘ themes/next/layout/_macro/post.swig æ–‡ä»¶ï¼Œåœ¨ä¸‹é¢æ‰€ç¤ºçš„æ ‡è®°ä¸Šé¢ 123&#123;#####################&#125;&#123;### END POST BODY ###&#125;&#123;#####################&#125; æ·»åŠ å¦‚ä¸‹ä»£ç  123&#123;% if theme.passage_end_tag.enable and not is_index %&#125; &lt;div&gt;&#123;% include '../_custom/passage-end-tag.swig' %&#125;&lt;/div&gt;&#123;% endif %&#125; æ·»åŠ  GitHub Banneræœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™ GitHub åœ°å€è¿˜æ˜¯è¦æ”¾çš„ï¼Œæ–¹ä¾¿å…¶ä»–äºº Follow meã€‚æ‰¾åˆ° github_banner é¡¹ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½® enable: true permalink: https://github.com/wdmcheng æ·»åŠ æœç´¢åŠŸèƒ½ æ·»åŠ ä¾èµ–ï¼Œåœ¨ Shell ä¸­æ‰§è¡Œå‘½ä»¤ 1yarn add -D hexo-generator-searchdb åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œæ‰¾åˆ° Extensionsï¼Œåœ¨åŽé¢æ·»åŠ  123456# æœç´¢åŠŸèƒ½search: path: search.xml field: post format: html limit: 10000 åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹ local_search.enable ä¸º true ç§»åŠ¨è®¾å¤‡é€‚é…mobile_layout_economy: true Safari èœå•æ ç€è‰²safari_rainbow: true è‡ªå®šä¹‰æ»šåŠ¨æ¡ä»¶æ”¯æŒcustom_scrollbar: true æ·»åŠ ç‰¹æ•ˆ å¯ç”¨ Canvas-nestï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹ canvas_nest.enable ä¸º true é…ç½® CDN åŠ é€Ÿï¼Œä¿®æ”¹ vendors ä¸‹çš„é…ç½® 123vendors: canvas_nest: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js canvas_nest_nomobile: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest-nomobile.min.js æˆ‘è¿™é‡Œè¿˜æ·»åŠ äº† JavaScript 3D libraryï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¸‹é¢å‡ é¡¹é…ç½®ï¼Œéœ€è¦å¯ç”¨å“ªç§ç‰¹æ•ˆï¼Œå°±å°† false æ”¹ä¸º trueï¼Œæˆ‘è¿™é‡Œéƒ½æ˜¯æš‚æ—¶å…³é—­çš„ three_waves: false canvas_lines: false canvas_sphere: false é…ç½® CDN åŠ é€Ÿï¼Œä¿®æ”¹ vendors ä¸‹çš„é…ç½® 12345vendors: three: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js three_waves: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js canvas_lines: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_lines.min.js canvas_sphere: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_sphere.min.js ä½¿ç”¨ CDN åŠ é€Ÿï¼Œå®‰è£… Canvas-Ribbonï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰å¯ç”¨ï¼Œéœ€è¦å¯ç”¨ç›´æŽ¥ä¿®æ”¹ canvas_ribbon.enable ä¸º true 12vendors: canvas_ribbon: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.min.js ä¿®æ”¹åŠ¨ç”»motion.async é»˜è®¤ä¸º falseï¼Œè¿™é‡Œä¿®æ”¹ä¸º trueï¼Œæ„Ÿè§‰åŠ¨ç”»æ•ˆæžœå¿«ä¸€äº› æ·»åŠ  Live2D åŠ¨ç”»è§’è‰² å®‰è£… hexo-helper-live2d 1yarn add -D hexo-helper-live2d åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œæ‰¾åˆ° Extensionsï¼Œåœ¨åŽé¢æ·»åŠ  1234567891011121314151617181920212223242526# Live2D# https://github.com/EYHN/hexo-helper-live2dlive2d: enable: true # localï¼Œä»Žæœ¬åœ°åŠ è½½ï¼Œéœ€è¦é…ç½® pluginRootPathã€pluginJsPathã€pluginModelPath ä¸‰ä¸ªå±žæ€§ï¼›åŽé¢ä¸‰ç§é…ç½®ä»Žç½‘ç»œåŠ è½½ï¼Œä¸éœ€è¦é…ç½® #scriptFrom: local é»˜è®¤ #pluginRootPath: live2dw/ # æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„) #pluginJsPath: lib/ # è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸Žæ’ä»¶æ ¹ç›®å½•è·¯å¾„ #pluginModelPath: assets/ # æ¨¡åž‹æ–‡ä»¶ç›¸å¯¹ä¸Žæ’ä»¶æ ¹ç›®å½•è·¯å¾„ #scriptFrom: jsdelivr # jsdelivr CDN #scriptFrom: unpkg # unpkg CDN scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js tagMode: false # æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tag æ ‡ç­¾è€Œéžæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­ debug: false # è°ƒè¯•, æ˜¯å¦åœ¨æŽ§åˆ¶å°è¾“å‡ºæ—¥å¿— model: # ç¬¬ä¸€ç§éœ€è¦å®‰è£…ç›¸åº”çš„åŒ…æ‰å¯ç”¨ï¼›ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§éœ€è¦æ‰‹åŠ¨æ”¾ç½®ç›¸å…³æ–‡ä»¶ #use: live2d-widget-model-z16 # npm-module package name #use: miku # åšå®¢æ ¹ç›®å½•/live2d_models/ ä¸‹çš„ç›®å½•å #use: ./wives/wanko # ç›¸å¯¹äºŽåšå®¢æ ¹ç›®å½•çš„è·¯å¾„ use: https://cdn.jsdelivr.net/npm/live2d-widget-model-haruto@1.x/assets/haruto.model.json # è‡ªå®šä¹‰ URLï¼Œå¯è®¾å®š CDN display: position: right width: 300 height: 600 mobile: show: false ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœç¼–è¾‘ themes/next/source/css/_custom/custom.styl æ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢ä»£ç ï¼Œæˆ‘è¿™é‡Œæ³¨é‡ŠæŽ‰äº†ï¼Œå–æ¶ˆæ³¨é‡Šå¯ä»¥å¯ç”¨é˜´å½±12345678// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ/*.post &#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);&#125;*/ æ›´æ–°ä¸»é¢˜å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ›´æ–°åˆ°æœ€æ–°çš„ master åˆ†æ”¯1234cd themes/nextgit stash pullgit pullgit stash pop åŠ å…¥å¹¿å‘Šæˆ‘è¿™é‡Œç”¨çš„æ˜¯ Google AdSenseï¼Œç½‘ç»œé—®é¢˜è¯·è‡ªè¡Œè§£å†³ è®¿é—® Google AdSenseï¼Œç‚¹å‡» ç«‹å³æ³¨å†Œï¼Œç„¶åŽå¡«å„ç§èµ„æ–™ï¼Œæœ€åŽç”Ÿæˆä¸€æ®µä»£ç ï¼Œæˆ‘çš„æ˜¯ 1234567&lt;script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"&gt;&lt;/script&gt;&lt;script&gt; (adsbygoogle = window.adsbygoogle || []).push(&#123; google_ad_client: "ca-pub-6923016589675745", enable_page_level_ads: true &#125;);&lt;/script&gt; ç¼–è¾‘ themes/next/layout/_custom/head.swig æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ï¼ˆç¨ä½œä¿®æ”¹ï¼Œæ·»åŠ ä¸€äº›å˜é‡åŠæŽ§åˆ¶ï¼‰ 123456789&#123;% if theme.google_adsense.enable %&#125; &lt;script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"&gt;&lt;/script&gt; &lt;script&gt; (adsbygoogle = window.adsbygoogle || []).push(&#123; google_ad_client: "&#123;&#123; theme.google_adsense.google_ad_client &#125;&#125;", enable_page_level_ads: true &#125;); &lt;/script&gt;&#123;% endif %&#125; åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­æ·»åŠ ä¸‹é¢ä»£ç  1234# Google AdSensegoogle_adsense: enable: true google_ad_client: ca-pub-6923016589675745 ç­‰å¾…å®¡æ ¸é€šè¿‡ï¼Œå¥½è¿ã€‚å¦‚æžœå¤±è´¥ï¼Œå¯å†æ¬¡ç”³è¯·ã€‚ CDN åŠ é€Ÿé…ç½® font-awesome jquery velocity çš„ CDN åŠ é€Ÿï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹ vendors ä¸‹çš„é…ç½®12345vendors: jquery: //cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js velocity: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js velocity_ui: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js fontawesome: //cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css é™æ€èµ„æºåŽ‹ç¼© å¦‚æžœæœªå®‰è£… guloï¼Œåœ¨ Shell ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1npm install gulp -g æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12npm install gulp -gyarn add -D gulp gulp-clean-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp-imagemin åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º gulpfile.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243var gulp = require('gulp');var cleancss = require('gulp-clean-css');var uglify = require('gulp-uglify');var htmlmin = require('gulp-htmlmin');var htmlclean = require('gulp-htmlclean');var imagemin = require('gulp-imagemin');// åŽ‹ç¼©cssæ–‡ä»¶gulp.task('clean-css', function() &#123; return gulp.src('./public/**/*.css') .pipe(cleancss()) .pipe(gulp.dest('./public'));&#125;);// åŽ‹ç¼©htmlæ–‡ä»¶gulp.task('minify-html', function() &#123; return gulp.src('./public/**/*.html') .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, &#125;)) .pipe(gulp.dest('./public'))&#125;);// åŽ‹ç¼©jsæ–‡ä»¶gulp.task('minify-js', function() &#123; return gulp.src(['./public/**/.js','!./public/js/**/*min.js']) .pipe(uglify()) .pipe(gulp.dest('./public'));&#125;);// åŽ‹ç¼© public/demo ç›®å½•å†…å›¾ç‰‡gulp.task('minify-images', function() &#123; return gulp.src('./public/demo/**/*.*') .pipe(imagemin(&#123; optimizationLevel: 7, //ç±»åž‹ï¼šNumber é»˜è®¤ï¼š3 å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰ progressive: true, //ç±»åž‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸåŽ‹ç¼©jpgå›¾ç‰‡ interlaced: false, //ç±»åž‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“ multipass: false, //ç±»åž‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ– &#125;)) .pipe(gulp.dest('./public/uploads'));&#125;);// é»˜è®¤ä»»åŠ¡gulp.task('default', gulp.parallel('minify-html', 'clean-css', 'minify-js', 'minify-images')); ä»¥åŽåªéœ€è¦åœ¨æ¯æ¬¡ hexo generate åŽï¼Œæ‰§è¡Œä¸€ä¸‹ gulp å°±å¯ä»¥å®žçŽ°å¯¹é™æ€æ–‡ä»¶çš„åŽ‹ç¼©ï¼Œä¹‹åŽå†æ‰§è¡Œ hexo deploy å‘½ä»¤å‘å¸ƒã€‚å†™ä¸€ä¸‹ä»£ç ï¼Œæ–¹ä¾¿å¤åˆ¶ï¼š 123hexo generategulphexo deploy åŠŸèƒ½å¢žå¼ºæ ‡ç­¾æ’ä»¶æ ‡ç­¾æ’ä»¶ç”¨æ³•å‚è€ƒå®˜ç½‘ Note æ ‡ç­¾ - Bootstrap Calloutåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹ note ä¸‹çš„é…ç½® style: modern icons: true border_radius: 0 light_bg_offset: -3 Tabs æ ‡ç­¾æ”¯æŒtabs.transition.tabs: true PDF æ ‡ç­¾æ”¯æŒä¿®æ”¹é…ç½® pdf.enable: true Mermaid gantt å›¾æ ‡ç­¾æ”¯æŒä¿®æ”¹é…ç½® mermaid.enable: true æ•°å­¦æ–¹ç¨‹å¼æ¸²æŸ“æ”¯æŒæ•°å­¦æ–¹ç¨‹å¼æ¸²æŸ“å¼•æ“Žå¯ä»¥ä½¿ç”¨ mathjax æˆ– katexï¼Œç”± math.engine é¡¹é…ç½®ï¼Œå°† math.enable ä¿®æ”¹ä¸º true å³å¯å¼€å¯ å¯ç”¨ Fancyboxä¿®æ”¹é…ç½®1234fancybox: truevendors: fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css å¯ç”¨ä¹¦ç­¾åŠŸèƒ½12345bookmark: enable: true auto: truevendors: bookmark: //cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js å¯ç”¨é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡1234reading_progress: enable: truevendors: reading_progress: //cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1/reading_progress.min.js å¯ç”¨é¡¶éƒ¨åŠ è½½è¿›åº¦æ¡1234pace: truevendors: pace: //cdn.jsdelivr.net/npm/pace-js@1/pace.min.js pace_css: //cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.min.css å¯ç”¨ FastClick123fastclick: truevendors: fastclick: https://cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js å¯ç”¨ Jquery Lazyload å›¾åƒå»¶è¿ŸåŠ è½½123lazyload: truevendors: lazyload: //cdn.jsdelivr.net/npm/jquery_lazyload@1/jquery.lazyload.min.js å¯ç”¨ Quicklink é¢„åŠ è½½1234quicklink: enable: truevendors: quicklink: //cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js å¯ç”¨æ±‰å­—æ ‡å‡†æ ¼å¼æ”¯æŒå¯ç”¨æ–¹å¼å°±æ˜¯ç›´æŽ¥æŒ‰ç…§ä¸‹é¢ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œæˆ‘æ²¡æœ‰å¯ç”¨123han: truevendors: han: //cdnjs.cloudflare.com/ajax/libs/Han/3.3.0/han.min.css å¯ç”¨ç›˜å¤æ”¯æŒâ€”â€”åœ¨ä¸­è‹±æ–‡ä¹‹é—´è‡ªåŠ¨æ·»åŠ ç©ºæ ¼ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹ pangu: true ä¸ä½¿ç”¨ CDN çš„è¯ï¼Œéœ€è¦å®‰è£… theme-next-panguï¼Œæˆ‘è¿™é‡Œä½¿ç”¨ CDN åŠ é€Ÿï¼Œç›´æŽ¥ä¿®æ”¹ vendors.pangu é…ç½®12vendors: pangu: //cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js å†…å®¹åˆ†äº«ç™¾åº¦åˆ†äº«å¤ªä¸‘ï¼ŒLikely æ²¡æœ‰æœ¬åœŸåŒ–ï¼Œä¸æ”¯æŒå¾®ä¿¡ä»€ä¹ˆçš„ï¼Œè¿™é‡Œä½¿ç”¨ NeedMoreShare2 ä¸åœ¨æœ¬åœ°åŠ ä¾èµ–äº†ï¼Œç›´æŽ¥ä½¿ç”¨ CDNï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml 123vendors: needmoreshare2_js: https://cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js needmoreshare2_css: https://cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css ä¿®æ”¹å¦‚ä¸‹é…ç½® 12345678910needmoreshare2: enable: true postbottom: enable: true options: networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook,Linkedin,Mailto,Evernote float: enable: true options: networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook,Linkedin,Mailto,Evernote è¯„è®ºç³»ç»Ÿæˆ‘è¿™é‡Œä½¿ç”¨ LiveReï¼Œæ³¨å†ŒåŽå®‰è£…ä¸€ä¸ªå…è´¹çš„ City ç‰ˆæœ¬ï¼Œåœ¨å®‰è£…ä»£ç ä¸­æ‰¾åˆ° data-uidï¼Œç„¶åŽä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œæ‰“å¼€ livere_uid çš„æ³¨é‡Šï¼Œå¹¶å¡«å…¥ data-uid åœ¨çº¿èŠå¤©ç³»ç»Ÿè¿™é‡Œæ²¡æœ‰ä½¿ç”¨ NexT å®˜æ–¹æŽ¨èçš„ï¼Œä½¿ç”¨çš„æ˜¯ DaoVoiceï¼Œå®‰è£…æ–¹æ³•æˆ‘å‚è€ƒäº†è¿™é‡Œ æ³¨å†Œä¹‹åŽï¼Œé€‰æ‹©æŽ¥å…¥ï¼Œç¼–ç¨‹è¯­è¨€ä¸º JavaScriptï¼Œä¼šå‡ºçŽ°ä¸‹é¢è¿™ç§ä»£ç  1&lt;script&gt;(function(i,s,o,g,r,a,m)&#123;i["DaoVoiceObject"]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)&#125;)(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/XXXXXXXX.js","daovoice")&lt;/script&gt; 1234daovoice('init', &#123; app_id: "XXXXXXXX"&#125;);daovoice('update'); themes/next/layout/_custom/head.swig æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼ˆä¿®æ”¹ä¸€ä¸‹ &lt;/script&gt; ç»“æŸæ ‡ç­¾çš„ä½ç½®ï¼Œå¹¶ä¸”å°† app_id åšæˆå˜é‡ï¼‰ 123456789&#123;% if theme.daovoice.enable %&#125; &lt;script&gt; (function(i,s,o,g,r,a,m)&#123;i["DaoVoiceObject"]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)&#125;)(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/&#123;&#123; theme.daovoice.daovoice_app_id &#125;&#125;.js","daovoice") daovoice('init', &#123; app_id: "&#123;&#123; theme.daovoice.daovoice_app_id &#125;&#125;" &#125;); daovoice('update'); &lt;/script&gt;&#123;% endif %&#125; åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­æ·»åŠ ä¸‹é¢ä»£ç ï¼ŒXXXXXXXX æ˜¯å‰é¢èŽ·å–åˆ°çš„ app_id 1234# DaoVoice åœ¨çº¿èŠå¤©daovoice: enable: true daovoice_app_id: XXXXXXXX éƒ¨ç½² æ‰§è¡Œå‘½ä»¤ yarn add -D hexo-deployer-git éƒ¨ç½²é…ç½®ï¼Œåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œæ‰¾åˆ° deployï¼Œåœ¨å…¶èŠ‚ç‚¹ä¸‹åˆ é™¤ typeï¼Œç„¶åŽæ·»åŠ å¦‚ä¸‹é…ç½® 123- type: git repo: git@gitlab.com:wdmcheng/wdmcheng.gitlab.io.git branch: master æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œæ¸…ç†ã€ç”Ÿæˆé™æ€æ–‡ä»¶ã€éƒ¨ç½² 1234hexo cleanhexo generategulphexo deploy ç«™é•¿å·¥å…·é˜…è¯»é‡ç»Ÿè®¡å·¥å…·Firebaseè¦ä½¿ç”¨ Firebase éœ€è¦æ¢¯å­ï¼Œä¸åªæ˜¯é…ç½®è¿‡ç¨‹ï¼Œç”¨æˆ·è®¿é—®æ—¶å¦‚æžœä¸èƒ½è¿žæŽ¥æœåŠ¡ï¼Œä¹Ÿæ˜¯æ²¡æœ‰åŠžæ³•ç»Ÿè®¡çš„ï¼Œå› æ­¤ä¸å»ºè®® æ³¨å†Œæˆ–ç™»å½• Firebaseï¼Œé…ç½®å¥½é¡¹ç›®ï¼ŒèŽ·å–åˆ° ç½‘ç»œ API å¯†é’¥ å’Œ é¡¹ç›® IDï¼Œç„¶åŽä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml çš„ firestore éƒ¨åˆ†ï¼Œå¦‚ä¸‹ enable: true apiKey: #&lt;ç½‘ç»œ API å¯†é’¥&gt; projectId: #&lt;é¡¹ç›® ID&gt; Firebase æŽ§åˆ¶å°ä¸­ï¼Œè¿›å…¥ å¼€å‘ &gt; Databaseï¼Œåˆ›å»ºä¸€ä¸ªéžæµ‹è¯•çš„æ•°æ®åº“ï¼Œä¹‹åŽè¿›å…¥è§„åˆ™ï¼Œå°† allow read, write: if false; æ”¹ä¸º allow read, write: if true;ï¼Œç„¶åŽå‘å¸ƒ ä¸è’œå­ ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œå°† busuanzi_count.enable æ”¹ä¸º true è¿™é‡Œåªä½¿ç”¨ä¸è’œå­çš„ç«™ç‚¹ç»Ÿè®¡ï¼Œæ–‡ç« é˜…è¯»é‡äº¤ç»™ LeanCloudï¼Œå› æ­¤å°† busuanzi_count.post_views æ”¹ä¸º false é¡µé¢åº•éƒ¨çš„è®¿å®¢æ•°å›¾æ ‡ä¿®æ”¹ä¸€ä¸‹ï¼Œbusuanzi_count.total_visitors_icon çš„å€¼ä»Ž user æ”¹ä¸º users LeanCloudLeanCloud çš„ç›¸å…³é…ç½®è¯·å‚è€ƒLeancloudè®¿å®¢ç»Ÿè®¡æ’ä»¶é‡å¤§å®‰å…¨æ¼æ´žä¿®å¤æŒ‡å— åˆ° LeanCloud å®˜ç½‘æ³¨å†Œï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œ åˆ›å»ºä¸€ä¸ªå¼€å‘ç‰ˆçš„åº”ç”¨ å»ºç«‹ä¸€ä¸ªæ— é™åˆ¶çš„ Counter ç±»ï¼Œä¹‹åŽè¿›å…¥è®¾ç½®æ‹¿åˆ° App ID åŠ App Key ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­çš„ leancloud_visitors éƒ¨åˆ† enable: true app_id: #&lt;App ID&gt; app_key: #&lt;App Key&gt; betterPerformance: true åœ¨ LeanCloud çš„è®¾ç½®é¡µé¢ï¼Œè¿›å…¥å®‰å…¨ä¸­å¿ƒï¼Œæ·»åŠ Web å®‰å…¨åŸŸåï¼Œæ³¨æ„åè®®ã€åŸŸåå’Œç«¯å£å·éœ€ä¸¥æ ¼ä¸€è‡´ï¼Œæˆ‘è¿™é‡Œæ˜¯ https://www.wdmcheng.cn éƒ¨ç½²äº‘å¼•æ“Žä»¥ä¿è¯è®¿å®¢æ•°é‡ä¸è¢«éšæ„ç¯¡æ”¹ æ‰“å¼€ LeanCloud çš„äº‘å¼•æ“Ž &gt; éƒ¨ç½²ï¼Œç‚¹å‡»åœ¨çº¿ç¼–è¾‘ åˆ›å»ºå‡½æ•° &gt; Hookï¼ŒHook é€‰æ‹© beforeUpdateï¼ŒClass é€‰æ‹© Counterï¼Œç„¶åŽç²˜è´´ä¸‹é¢ä»£ç  12345678var query = new AV.Query("Counter");if (request.object.updatedKeys.indexOf('time') !== -1) &#123; return query.get(request.object.id).then(function (obj) &#123; if (obj.get("time") + 1 !== request.object.get("time")) &#123; throw new AV.Cloud.Error('Invalid update!'); &#125; &#125;)&#125; æ³¨é‡Šå¤„å¡«ä¸ªæè¿°ï¼Œæˆ‘è¿™é‡Œå†™çš„é˜²æ­¢è®¿å®¢æ•°é‡è¢«éšæ„ç¯¡æ”¹ ç„¶åŽè¦éƒ¨ç½²ä¸€ä¸‹æ‰å¯ä»¥ç”Ÿæ•ˆ é…ç½®æ•°æ®åº“è®°å½•åªå¯ä»¥æœ¬åœ°å¢žåŠ ï¼Œç¦æ­¢åˆ é™¤ æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œapp_id ä¸Ž app_key æ˜¯ LeanCloud ä¸­çš„ï¼Œusername ä¸Ž password æ˜¯æŽˆæƒå¯ä»¥ create çš„ç”¨æˆ·åä¸Žå¯†ç  123456leancloud_counter_security: enable_sync: true app_id: #&lt;App ID&gt; app_key: #&lt;App Key&gt; username: password: æ‰§è¡Œå‘½ä»¤ yarn add -D hexo-leancloud-counter-security å®‰è£…ç›¸å…³ç»„ä»¶ æ‰§è¡Œå‘½ä»¤ hexo lc-counter register &lt;&lt;username&gt;&gt; &lt;&lt;password&gt;&gt; åˆ›å»ºç”¨æˆ· æ‰“å¼€ LeanCloud çš„å­˜å‚¨ï¼Œè¿›å…¥ Counter ç±»ï¼Œé€‰æ‹©å…¶ä»– &gt; æƒé™è®¾å®šï¼Œå°† create çš„æƒé™è®¾ç½®ä¸ºæŒ‡å®šç”¨æˆ·ï¼Œé€‰æ‹©åˆšæ‰åˆ›å»ºçš„ç”¨æˆ·ï¼Œdelete çš„æƒé™ä¹Ÿè®¾ç½®ä¸ºæŒ‡å®šç”¨æˆ·ï¼Œä½†ç”¨æˆ·å’Œè§’è‰²éƒ½ç•™ç©º ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml çš„ deploy èŠ‚ç‚¹ä¸‹æ·»åŠ  - type: leancloud_counter_security_sync é…ç½® CDN åŠ é€Ÿï¼Œä¿®æ”¹ vendors.leancloud é…ç½®12vendors: leancloud: //cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js æ•°æ®åˆ†æžå·¥å…·Google Analyticså¯ç”¨ Google Analytics å¯ç”¨ Google Analyticsï¼Œå‰å¾€Google Analyticsï¼Œæ³¨å†Œæˆ–ç™»å½•ï¼ŒèŽ·å–åˆ° Google è·Ÿè¸ª ID ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œå°† google_analytics éƒ¨åˆ†çš„æ³¨é‡Šæ‰“å¼€ï¼Œå¹¶ä¸”åœ¨ google_analytics.tracking_id å¡«å…¥ UA-XXXXXXXX-X å½¢å¼çš„ Google è·Ÿè¸ª ID å…³è” Google Search Consoleè‹¥è¦å…³è” Google Search Consoleï¼Œè¿™é‡Œä¸èƒ½ä½¿ç”¨ HTML æ–‡ä»¶ æ–¹å¼éªŒè¯ï¼Œå› ä¸ºä½¿ç”¨ Hexo éƒ¨ç½²æ—¶ï¼Œä¼šè‡ªåŠ¨ç§»é™¤å¤šä½™çš„ html æ–‡ä»¶ã€‚è¿™é‡Œé‡‡ç”¨ Google Analytics æ–¹å¼éªŒè¯ï¼Œé‚£ä¹ˆåœ¨å¯ç”¨äº† Google Analytics åŽå¿…é¡»éƒ¨ç½²ï¼Œç„¶åŽæ ¹æ® Google çš„å‘å¯¼æ“ä½œ å…³è” Google AdSenseç›´æŽ¥åœ¨ Google Analytics çš„ç®¡ç†é¡µé¢å…³è”å°±å¯ä»¥äº† ç™¾åº¦ç»Ÿè®¡ æ‰“å¼€ç™¾åº¦ç»Ÿè®¡ï¼Œæ³¨å†Œã€å»ºç«‹ç½‘ç«™ï¼Œå®ŒæˆåŽä¼šæœ‰ä¸€ä¸ªä¸‹é¢è¿™ç§çš„ç»Ÿè®¡ä»£ç ï¼Œå¤åˆ¶ https://hm.baidu.com/hm.js?xxxxxxxx ä¸­çš„ xxxxxxxxï¼Œå¾—åˆ°ç»Ÿè®¡ ID 123456789&lt;script&gt;var _hmt = _hmt || [];(function() &#123; var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?xxxxxxxx"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);&#125;)();&lt;/script&gt; æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œæ‰¾åˆ° baidu_analyticsï¼Œæ‰“å¼€æ³¨é‡Šï¼Œå¹¶ä¿®æ”¹ä¸º baidu_analytics: xxxxxxxx æœç´¢å¼•æ“Žç›¸å…³æœç´¢å¼•æ“Žä¼˜åŒ–ï¼ˆSEOï¼‰ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.yml ä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹é…ç½® disable_baidu_transformation: true seo: true index_with_subtitle: true exturl: true baidu_push: true å„ç§ Webmaster tools verification éœ€è¦åˆ°å„è‡ªå®˜ç½‘èŽ·å–ï¼Œç„¶åŽå¡«å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¯¦ç»†è¯´æ˜Žå¯å‚è€ƒNexT ä¸»é¢˜å®˜ç½‘ï¼Œæˆ‘è¿™é‡Œå¼€äº† google_site_verification bing_site_verification baidu_site_verification ä¸‰ä¸ªï¼Œå¯ä»¥å¼€ä¸‰ä¸ªé¡µç­¾åˆ†åˆ«é…ç½®åˆ°å¾…éªŒè¯çš„çŽ¯èŠ‚ï¼Œç„¶åŽé…å¥½ NexTï¼Œä¸€æ¬¡å‘å¸ƒï¼Œå†åˆ†åˆ«ç‚¹éªŒè¯ å‡å°‘å‡ºç«™é“¾æŽ¥èƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢æƒé‡åˆ†æ•£ï¼Œè¿™é‡Œå®‰è£… hexo-autonofollowï¼Œè¯¥å·¥å…·å¯ä»¥åœ¨å‡ºç«™é“¾æŽ¥ä¸Šè‡ªåŠ¨æ·»åŠ å±žæ€§ external nofollow noopener noreferrer 1yarn add -D hexo-autonofollow åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œå‹é“¾ä¸æƒ³æ·»åŠ  nofollow å±žæ€§çš„ï¼Œæ·»åŠ åˆ° exclude é‡Œ 12345nofollow: enable: true exclude: - å‹é“¾åœ°å€1 - å‹é“¾åœ°å€2 ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­é»˜è®¤çš„ permalink æ˜¯ :year/:month/:day/:title/ï¼Œè¿™å¯¹æœç´¢å¼•æ“Žä¸å‹å¥½ï¼Œç›´æŽ¥ä¿®æ”¹ä¸€ä¸‹é“¾æŽ¥å±‚çº§ï¼Œå˜æˆ :title æˆ–è€… :year-:month-:day-:title æœç´¢å¼•æ“ŽæŠ“å–è¿™é‡Œå‚è€ƒ Hexoåšå®¢Nextä¸»é¢˜SEOä¼˜åŒ–æ–¹æ³• é¦–å…ˆå®‰è£…æ’ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ sitemap æ–‡ä»¶ï¼Œä¸€ä¸ªä¼ ç»Ÿçš„ï¼Œä¸€ä¸ªç™¾åº¦çš„ 1yarn add -D hexo-generator-sitemap hexo-generator-baidu-sitemap å®‰è£…å®Œéƒ¨ç½²ï¼Œè¿™æ—¶ç½‘ç«™å°±æœ‰äº†ä¸¤ä¸ª sitemap äº† å‰é¢å·²ç»åœ¨ Google Search Console å’Œç™¾åº¦æœç´¢èµ„æºå¹³å°ä¸­æ·»åŠ éªŒè¯äº†ç«™ç‚¹ï¼ŒçŽ°åœ¨å¯ä»¥ç›´æŽ¥æäº¤ sitemap.xml äº†ï¼Œç™¾åº¦æäº¤ baidusitemap.xml github ç¦æ­¢ç™¾åº¦çˆ¬è™«ï¼Œå¥½åœ¨ç™¾åº¦æ”¯æŒä¸»åŠ¨æŽ¨é€ï¼Œå› æ­¤è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªä¸»åŠ¨æŽ¨é€çš„æ’ä»¶ï¼Œæ‰§è¡Œå‘½ä»¤ yarn add -D hexo-baidu-url-submit åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œå‚è€ƒä¸‹é¢é…ç½®ã€æ³¨é‡ŠåŠä¸»åŠ¨æŽ¨é€çš„æŽ¥å£è°ƒç”¨åœ°å€æ·»åŠ é…ç½®ï¼ˆæœ€åŽä¸‰ä¸ªæ˜¯ç†ŠæŽŒå·ç›¸å…³çš„ï¼Œæ²¡æœ‰æ³¨å†Œç†ŠæŽŒå·åˆ™ä¸å†™ï¼‰ 12345678baidu_url_submit: count: 1000 ## æäº¤æœ€æ–°çš„ä¸€ä¸ªé“¾æŽ¥ host: alili.tech ## åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå token: xxxxx ## è¯·æ³¨æ„è¿™æ˜¯æ‚¨çš„ç§˜é’¥ï¼Œæ‰€ä»¥è¯·ä¸è¦æŠŠåšå®¢æºä»£ç å‘å¸ƒåœ¨å…¬ä¼—ä»“åº“é‡Œ! path: baidu_urls.txt ## æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œæ–°é“¾æŽ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ xz_appid: 'xxxxxx' ## ä½ çš„ç†ŠæŽŒå· appid xz_token: 'xxxxxx' ## ä½ çš„ç†ŠæŽŒå· token xz_count: 10 ## ä»Žæ‰€æœ‰çš„æäº¤çš„æ•°æ®å½“ä¸­é€‰å–æœ€æ–°çš„10æ¡ï¼Œè¯¥æ•°é‡è·Ÿä½ çš„ç†ŠæŽŒå·è€Œå®š åœ¨ deploy ä¸‹å¢žåŠ ä¸‹é¢çš„ç±»åž‹ï¼ˆæ²¡æ³¨å†Œç†ŠæŽŒå·åˆ™ä¸æ·»åŠ ç†ŠæŽŒå·çš„ç±»åž‹ï¼‰ 12- type: baidu_url_submitter # ç™¾åº¦- type: baidu_xz_url_submitter # ç™¾åº¦ç†ŠæŽŒå· æ·»åŠ çƒ­åº¦æŽ’è¡Œæ¦œè¿™é‡Œå‚è€ƒäº† hexo next æ–°å¢žé˜…è¯»æŽ’è¡Œé¡µé¢ æŽ’è¡Œæ¦œæºç å¦‚ä¸‹ï¼ˆä¿®æ”¹äº†æ–‡ç« é“¾æŽ¥åœ°å€ï¼‰ï¼Œå…¶ä¸­ leancloud_uri leancloud_appid leancloud_appkey éœ€è¦æ›¿æ¢ä¸€ä¸‹ 123456789101112131415161718192021222324&lt;div id="top"&gt;&lt;/div&gt;&lt;script src="leancloud_uri"&gt;&lt;/script&gt;&lt;script&gt;AV.initialize("leancloud_appid", "leancloud_appkey");&lt;/script&gt;&lt;script type="text/javascript"&gt;let time = 0let title = ""let url = ""let query = new AV.Query('Counter');query.notEqualTo('id', 0);query.descending('time');query.limit(1000);query.find().then(function (todo) &#123; for (let i = 0; i &lt; 1000; i++)&#123; const result = todo[i].attributes; time = result.time; title = result.title; url = result.url; const content="&lt;p&gt;&lt;font color='#1C1C1C'&gt;ã€æ–‡ç« çƒ­åº¦:"+time+"â„ƒã€‘&lt;/font&gt;&lt;a href='"+url+"'&gt;"+title+"&lt;/a&gt;&lt;/p&gt;"; document.getElementById("top").innerHTML += content &#125;&#125;, function (error) &#123; console.log("error");&#125;);&lt;/script&gt; æ‰§è¡Œ hexo new page top å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ª top é¡µé¢ï¼Œç¼–è¾‘è¯¥é¡µé¢ï¼Œåœ¨å¤´éƒ¨æè¿°åŒºåŸŸæ·»åŠ  comments: false å…³é—­è¯„è®ºåŠŸèƒ½ï¼Œç„¶åŽç²˜è´´ä¸Šè¿°ä»£ç  ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ source/_data/next.ymlï¼Œåœ¨ menu ä¸‹æ·»åŠ  top: /top/ || signal ç¼–è¾‘ themes/next/languages/zh-CN.yml è¯­è¨€æ–‡ä»¶ï¼Œåœ¨ menu ä¸‹æ·»åŠ  top: /top/ || signal è‡ªåŠ¨åŒ–éƒ¨ç½²æˆ‘è¿™é‡Œæ˜¯ä½¿ç”¨ GitLab ç§æœ‰ä»“åº“ä¿å­˜æºç ï¼ˆå› ä¸ºå«æœ‰å¯†é’¥ç­‰ä¿¡æ¯ï¼‰ï¼Œä½¿ç”¨ gitlab-ci è‡ªåŠ¨éƒ¨ç½²çš„åˆ° GitLab çš„ä»“åº“ï¼Œç„¶åŽä½¿ç”¨ GitLab çš„é•œåƒä»“åº“åŠŸèƒ½æŽ¨é€åˆ° github ä¸Ž codingï¼Œè¿™æ ·æ¯æ¬¡å†™å®Œæ–‡ç« ï¼Œåˆå¹¶åˆ° master åˆ†æ”¯å³å¯ ä½¿ç”¨ GitHub çš„ Pages æœåŠ¡å¹¶é…ç½®åŸŸåï¼Œéœ€è¦æ·»åŠ  CNAME æ–‡ä»¶ï¼Œä¸ºäº†è‡ªåŠ¨éƒ¨ç½²ï¼Œç›´æŽ¥æ–°å»º source/CNAME æ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œé¢å¡«å†™ www.wdmcheng.cn å¦‚æžœè¦ä½¿ç”¨ HTTPSï¼Œè¦å…ˆè§£æžåˆ° Coding çš„æœåŠ¡ï¼Œç„¶åŽå¼€å¯ Coding Pages çš„ HTTPS åŠŸèƒ½ï¼Œå¾…ç”³è¯·ä¸‹æ¥è¯ä¹¦åŽï¼Œå†æ·»åŠ å›½å¤– IP è§£æžåˆ° GitHubï¼Œæœ€åŽå†ç”³è¯· GitHub Pages çš„ HTTPS ä¸‰ä¸ªæœˆè¯ä¹¦åˆ°æœŸéœ€è¦ç»­æœŸæ—¶ï¼Œéœ€è¦å…ˆæš‚åœå›½å¤– IP è§£æžï¼ŒCoding ç»­æœŸå®Œæˆå†å¼€å¯ è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å·¥ä½œæµé…ç½®ï¼Œå‚è€ƒ GitLab Pages examples å’Œ NexT ä¸»é¢˜å®˜ç½‘ï¼Œæˆ‘è¿™é‡Œé‡‡ç”¨çš„æ˜¯ SSH æ–¹å¼éƒ¨ç½²çš„ï¼Œé™„ä¸Šæˆ‘çš„ .gitlab-ci.yml æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# This file is a template, and might need editing before it works on your project.# Full project: https://gitlab.com/pages/hexoimage: node:10.15.3before_script:- export TZ='Asia/Shanghai'- git config --global user.name "wdmcheng"- git config --global user.email "idea_2008@126.com"# Restore last modified time- "git ls-files -z | while read -d '' path; do touch -d \"$(git log -1 --format=\"@%ct\" \"$path\")\" \"$path\"; done"# Install ssh-agent if not already installed, it is required by Docker.# (change apt-get to yum if you use a CentOS-based image)- 'which ssh-agent || ( apt-get update -y &amp;&amp; apt-get install openssh-client -y )'# Run ssh-agent (inside the build environment)- eval $(ssh-agent -s)# Add the SSH key stored in SSH_PRIVATE_KEY variable to the agent store- ssh-add &lt;(echo "$DEPLOY_PRIVATE_KEY")# For Docker builds disable host key checking. Be aware that by adding that# you are suspectible to man-in-the-middle attacks.# WARNING: Use this only with the Docker executor, if you use it with shell# you will overwrite your user's SSH config.- mkdir -p ~/.ssh- '[[ -f /.dockerenv ]] &amp;&amp; echo -e "Host *\n\tStrictHostKeyChecking no\n\n" &gt; ~/.ssh/config'# In order to properly check the server's host key, assuming you created the# SSH_SERVER_HOSTKEYS variable previously, uncomment the following two lines# instead.# - mkdir -p ~/.ssh# - '[[ -f /.dockerenv ]] &amp;&amp; echo "$SSH_SERVER_HOSTKEYS" &gt; ~/.ssh/known_hosts'- apt-get update -qq &amp;&amp; apt-get install -y -qq pandoccache: paths: - node_modules/ - .deploy_git/ - source/leancloud.memopages: script: - npm install hexo-cli yarn gulp@^4.0.0 -g - test -e package.json &amp;&amp; yarn install - hexo clean &amp;&amp; hexo generate - gulp - hexo deploy artifacts: paths: - public only: - master è‡´è°¢ é‡è§è¥¿é—¨çš„åšæ–‡ã€æŒç»­æ›´æ–°ã€‘æœ€å…¨Hexoåšå®¢æ­å»º+ä¸»é¢˜ä¼˜åŒ–+æ’ä»¶é…ç½®+å¸¸ç”¨æ“ä½œ+é”™è¯¯åˆ†æž my_æ¨å“¥çš„ç®€ä¹¦æ–‡ç« Hexoçš„Nextä¸»é¢˜è¯¦ç»†é…ç½® LEAFERx çš„åšæ–‡ Leancloudè®¿å®¢ç»Ÿè®¡æ’ä»¶é‡å¤§å®‰å…¨æ¼æ´žä¿®å¤æŒ‡å— hoxis çš„åšæ–‡ hexo next é…ç½® DaoVoice å®žçŽ°åœ¨çº¿èŠå¤©åŠŸèƒ½åŠ hexo next æ–°å¢žé˜…è¯»æŽ’è¡Œé¡µé¢]]></content>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
</search>
